---
const customLinks = [
  { name: 'Mercari', url: 'https://www.mercari.com/u/effort/', icon: 'cart' },
  { name: 'Solo.to', url: 'https://solo.to/dmt/', icon: 'music' },
  { name: 'eBay', url: 'https://www.ebay.com/usr/decipher', icon: 'store' },
  { name: 'Instagram', url: 'https://www.instagram.com/fnaw', icon: 'instagram' },
];
const vibrate = () => 'vibrate' in navigator && navigator.vibrate(50); // Haptic tap feedback
---

<div class="screen-center">
  <div class="links-container">
    {customLinks.map(link => (
      <a 
        href={link.url} 
        target="_blank" 
        rel="noopener noreferrer" 
        class="link-btn" 
        aria-label={`Visit ${link.name}`} 
        onclick={vibrate}
      >
        <iconify-icon 
          icon={`mdi:${link.icon}`} 
          class="btn-icon" 
          loading="lazy"
        ></iconify-icon>
        <span class="btn-text">{link.name}</span>
      </a>
    ))}
  </div>
  <!-- PWA Install Prompt -->
  <button id="install-btn" class="install-prompt" style="display:none;">Add to Home Screen</button>
</div>

<script>
  // PWA Install logic
  let deferredPrompt;
  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    document.getElementById('install-btn').style.display = 'block';
  });
  document.getElementById('install-btn').onclick = async () => {
    deferredPrompt.prompt();
    deferredPrompt = null;
  };
</script>

<style>
  .screen-center {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
    width: 100vw;
    padding: 2rem 1.5rem; /* Extra mobile padding */
    font-family: 'Inter', system-ui, sans-serif;
    box-sizing: border-box;
  }
  .links-container {
    display: flex;
    flex-wrap: nowrap;
    gap: 1.5rem; /* Larger touch gap */
    justify-content: center;
    margin-bottom: 2rem;
  }
  .link-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    padding: 1.5rem 2.25rem; /* Bigger for thumbs */
    min-height: 72px; /* >48px target */
    min-width: 140px;
    background: #f8f9fa;
    color: #333;
    text-decoration: none;
    border-radius: 16px;
    border: 2px solid #dee2e6;
    font-size: 1.3rem;
    font-weight: 600;
    font-family: inherit;
    transition: all 0.3s ease;
    flex: 1;
    box-shadow: 0 6px 16px rgba(0,0,0,0.15);
    touch-action: manipulation; /* Smooth mobile taps */
  }
  .link-btn:hover, .link-btn:focus, .link-btn:active {
    background: #007bff;
    color: white;
    transform: scale(1.05);
    box-shadow: 0 12px 24px rgba(0,123,255,0.4);
  }
  .btn-icon {
    font-size: 1.8rem;
    width: 1.8em;
    height: 1.8em;
    color: #1976d2;
    flex-shrink: 0;
  }
  .btn-text {
    text-align: center;
  }
  .install-prompt {
    padding: 1rem 2rem;
    background: #28a745;
    color: white;
    border: none;
    border-radius: 12px;
    font-size: 1.1rem;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(40,167,69,0.4);
  }
  .install-prompt:hover {
    background: #218838;
    transform: translateY(-1px);
  }
  @media (max-width: 768px) {
    .links-container { gap: 1.25rem; }
    .link-btn {
      padding: 1.25rem 1.75rem;
      font-size: 1.2rem;
      min-height: 68px;
    }
  }
</style>

